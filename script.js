const advice = {
    blue: [
        "You could be replaced by a cardboard cutout.",
"If you were any slower, you’d be going backward.",
"Hydration won’t make you smarter, but give it a shot.",
"Did you know the average person has an attention span? Try finding yours.",
"Have you considered a course in basic competence?",
"You’re about as sharp as a marble.",
"They say hard work pays off. Maybe try it sometime.",
"You have the energy of a sloth on its day off.",
"If common sense were contagious, you’d be immune.",
"You’re like a Wi-Fi signal—constantly weak and unreliable.",
"Some people are thinkers. Others just… aren’t.",
"Your strongest muscle might be your ability to procrastinate.",
"Slow down; you might accidentally achieve something.",
"Great things take time. So do mediocre ones, apparently.",
"You’d win a medal for exceptional laziness.",
"Hydrate. Maybe water will give you better ideas.",
"Keep going at this rate, and you’ll make history… in the wrong direction.",
"A little effort wouldn’t hurt… but it might surprise you.",
"If you were a road sign, you’d be ‘Yield… forever.’",
"There's taking your time, and then there’s whatever this is.",
"One step forward, three steps back. Impressive.",
"You're one of a kind... thankfully.",
"A nap might improve things, but don’t hold your breath.",
"A turtle could outpace you in ambition.",
"Slow and steady wins the race, but you’re pushing it.",
"You’re about as focused as a cat chasing its tail.",
"Give yourself a break—oh wait, that’s all you do.",
"You’re really consistent… in underachieving.",
"If only effort were as easy as excuses.",
"Basic tasks seem challenging for you, don’t they?",
"If you were any more relaxed, you’d be a puddle.",
"Effort isn’t a heavy lift. Give it a try.",
"You have all the time in the world and it shows.",
"When in doubt, try. Oh wait, you don’t.",
"Thinking is optional, apparently.",
"You're proof that hard work is still optional.",
"You really committed to not committing, huh?",
"Go ahead, ignore reality a bit longer.",
"If life’s a journey, you’re clearly taking the scenic route.",
"Just a thought: multitasking involves at least one task.",
"You’re giving ‘bare minimum’ a new low.",
"Productivity could use you as a ‘before’ picture.",
"If excuses were an Olympic sport, you'd medal.",
"Is that an effort I see? Never mind.",
"Confidence is key; in your case, the key is lost.",
"Any slower, and you’d be in reverse.",
"You’ve reached your destination: Bare Minimum.",
"What’s the rush? Oh, right, there is none.",
"Less speed, more nothing. You’ve mastered it.",
"Have you ever tried giving 1%? It’s worth a shot."
    ],
    yellow: [
        "You’re doing… well, you’re doing.",
"Shoot for the stars… but, you know, not too hard.",
"You’re one step closer to… whatever this is.",
"If they could do it, maybe someday you can, too.",
"Dream big… but don’t strain yourself.",
"Believe in yourself, or pretend to—either works.",
"With enough time, you might just get there.",
"You’re almost there. Well, sort of.",
"Take baby steps. You’re a natural.",
"Keep going… your break’s coming up soon.",
"Set the bar low and surprise yourself.",
"You’re a diamond… in need of serious polishing.",
"You’ve got potential. It’s hiding, but it’s there.",
"If anyone can do it, maybe you can too.",
"Rome wasn’t built in a day. Good news for you.",
"You’re doing great…ish.",
"Progress, no matter how tiny, still counts. Right?",
"Don’t give up yet. Or do. It’s your choice.",
"Almost there… eventually.",
"If they can, you… might.",
"Just a bit more effort, but take it easy.",
"You’ve got this! Sort of.",
"Chin up! Gravity’s got you.",
"Onward and upward… slowly.",
"Take your time. Really, take all of it.",
"Set your goals low, and you’ll never be disappointed.",
"Keep your head up. Just don’t expect too much.",
"You’re halfway there… in spirit.",
"Aim for the stars… but keep your feet on the ground.",
"Take it slow. No need to rush success.",
"Keep going; the bar’s not that high.",
"Be the best… at being average.",
"Stay steady. No need to overachieve.",
"Effort counts… well, sort of.",
"Patience is a virtue; laziness is a lifestyle.",
"One step at a time… really tiny steps.",
"Just a bit more… or not.",
"Keep trying. Results may vary.",
"With a bit of effort, you might be passable.",
"Stay focused! But don’t overdo it.",
"Believe in the dream, however hazy it is.",
"Take a break… from your break.",
"One more try… whenever you’re ready.",
"You're doing your best. Hopefully.",
"With patience, you can achieve… something.",
"Put in effort, but keep it moderate.",
"You can do it! Someday.",
"Set a goal—low, but achievable.",
"Be proud of the bare minimum!",
"You’re improving, even if it’s not obvious."
    ],
    pink: [
        "Why chase dreams when reality’s right there?",
"What’s the point of ambition in a spinning rock?",
"You think, therefore… you overthink.",
"Life’s deep… for some people.",
"The universe doesn’t revolve around you; it barely notices.",
"The meaning of life is a question you probably shouldn’t ask.",
"You’re one thought away from confusing yourself.",
"You are to existence what fog is to clarity.",
"Wonder about the big things. You’re small enough.",
"Life’s like a hamster wheel. Enjoy the run.",
"The key to life’s mysteries? Probably not in your pocket.",
"You could be anything, but you’re still you.",
"Existence precedes essence… maybe.",
"In the big picture, you’re a speck.",
"Embrace the unknown; it’s better than reality.",
"Are you on a path or just wandering?",
"A penny for your thoughts might be overpriced.",
"You’re a question mark in a world of dots.",
"Deep down, you’re shallow.",
"Why reach for greatness when average is within reach?",
"Contemplate your purpose… it’s optional.",
"The journey of self-discovery could use better directions.",
"Think less, achieve more. Maybe.",
"The meaning of life? Probably just ‘meh.’",
"Be yourself. There’s not much competition.",
"Find purpose. Or just keep drifting.",
"You’re as profound as a puddle.",
"Why pop a bubble if it’s pointless?",
"In the big picture, you’re wallpaper.",
"You are, therefore… maybe not much.",
"Seek answers. Or don’t. Life’s confusing.",
"Don’t sweat the small stuff. You’re smaller.",
"Life’s mysteries are safe from you.",
"You’re the pebble in life’s big pond.",
"Introspection looks better on other people.",
"What if life’s just a misprint?",
"Do you ponder or just… wonder?",
"Existence is enough… isn’t it?",
"You’re here. That’s… something.",
"Think big. Live small.",
"Seek truth. Settle for coffee.",
"Be you… whoever that is.",
"Are you here for a reason, or just here?",
"Life’s short, but you’re shorter.",
"Being you is an achievement. Sort of.",
"Why pop if life’s just hot air?",
"Reality is overrated.",
"Your essence is… hard to define.",
"Be yourself… no one else wants the job.",
"Exist. It’s easy if you try."
    ],
    green: [
        "You’re as useful as a screen door on a submarine.",
"If there were an award for procrastination, you’d apply tomorrow.",
"You have the charisma of a soggy sponge.",
"Even your reflection looks disappointed.",
"You bring absolutely nothing to the table. Not even snacks.",
"Your spirit animal is probably a rock.",
"You’re like a lighthouse in the desert: completely out of place.",
"If only eye rolls burned calories, you’d be in great shape.",
"You have all the appeal of a root canal.",
"There’s more life in a two-day-old salad than in your plans.",
"Your best idea this year was probably a nap.",
"If cluelessness were an art, you’d be a masterpiece.",
"You’re as inspiring as a Monday morning.",
"I’d say aim higher, but that might be too much effort for you.",
"You’re the human equivalent of a beige wall.",
"You’re like a cactus: difficult to get close to and slightly prickly.",
"If you had a theme song, it’d be the sound of crickets.",
"I’ve seen parking cones with more ambition.",
"You’re about as useful as a chocolate teapot.",
"You have all the enthusiasm of a sloth at nap time.",
"You’d probably get lost in a one-room house.",
"You’re as sharp as a bowling ball.",
"I’d suggest self-improvement, but let’s be realistic.",
"You’re the epitome of ‘close enough.’",
"If mediocrity were a skill, you’d be world-class.",
"There’s a snail somewhere living life in the fast lane compared to you.",
"You’re like an expired coupon: technically there but of no use.",
"A brick wall has more flexibility than you.",
"Your personality’s about as exciting as a tax form.",
"Even a broken clock is right twice a day. What’s your excuse?",
"You’re about as motivated as a house plant in winter.",
"Your big idea today? Probably a nap.",
"You’d manage to lose a game of solitaire.",
"Your energy level rivals that of a dead battery.",
"If boredom were a person, it’d be you.",
"You have the creative spark of a wet match.",
"If ‘blah’ were a person, it’d be you.",
"You have the charisma of a cement block.",
"You’re as lively as a haunted house in daylight.",
"Your dreams must be as big as your effort, which is to say… tiny.",
"If there were a ‘bare minimum’ award, you’d almost qualify.",
"Your aura is beige.",
"You’re the star of your own sitcom, but it’s on mute.",
"You’d fit right in as the mascot for a lost-and-found.",
"Your life motto must be ‘meh.’",
"You’re as unpredictable as the sunrise.",
"You don't look ugly, You were born ugly",
"God made nobody ugly. But who the hell made you?",
"You bring the same vibe as an empty fish tank.",
"The spark you bring to a room could light a 5-watt bulb. Maybe.",
"If effort were a sport, you’d be a bench warmer.",
"You’re about as spontaneous as a calendar."
    ]
};


let popCount = 0;
let philosophicalPops = 0;
const popSound = new Audio('data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA');

function createPopAnimation(bubble, color) {
const numParticles = 8;
const bubbleRect = bubble.getBoundingClientRect();
const bubbleCenter = {
x: bubbleRect.left + bubbleRect.width / 2,
y: bubbleRect.top + bubbleRect.height / 2
};

const ripple = document.createElement('div');
ripple.className = 'ripple';
ripple.style.width = ripple.style.height = `${bubbleRect.width * 0.8}px`;
ripple.style.left = '10%';
ripple.style.top = '10%';
bubble.appendChild(ripple);

setTimeout(() => ripple.remove(), 600);

for (let i = 0; i < numParticles; i++) {
const particle = document.createElement('div');
particle.className = 'particle';
particle.style.background = getComputedStyle(bubble).background;

const angle = (i / numParticles) * 2 * Math.PI;
const velocity = 100;
const tx = Math.cos(angle) * velocity;
const ty = Math.sin(angle) * velocity;

particle.style.setProperty('--tx', `${tx}px`);
particle.style.setProperty('--ty', `${ty}px`);

particle.style.animation = 'particleAnimation 0.6s ease-out forwards';
bubble.appendChild(particle);

setTimeout(() => particle.remove(), 600);
}
}

class Star {
constructor() {
this.element = document.createElement('div');
this.element.className = 'star';
this.reset();
document.getElementById('background-stars').appendChild(this.element);
}

reset() {
const size = Math.random() * 2 + 1;
this.element.style.width = `${size}px`;
this.element.style.height = `${size}px`;
this.x = Math.random() * window.innerWidth;
this.y = Math.random() * window.innerHeight;
this.element.style.left = `${this.x}px`;
this.element.style.top = `${this.y}px`;
}

move() {
this.y += 0.5;
if (this.y > window.innerHeight) {
    this.reset();
}
this.element.style.top = `${this.y}px`;
}
}

const stars = Array.from({ length: 100 }, () => new Star());

function animateStars() {
stars.forEach(star => star.move());
requestAnimationFrame(animateStars);
}
animateStars();

function popBubble(bubble, color) {
if (!bubble.classList.contains('popped')) {
createPopAnimation(bubble, color);
bubble.classList.add('popped');
popCount++;
if (color === 'pink') philosophicalPops++;

updateStats();
showAdvice(color);
playPopSound();
checkAchievements();
saveProgress();

// Regenerate bubble after 2 seconds
setTimeout(() => {
    bubble.classList.remove('popped');
    bubble.style.background = getComputedStyle(bubble).background;
}, 2000);

// Scroll to the quote box
const quoteBox = document.getElementById('quoteBox');
quoteBox.scrollIntoView({ behavior: 'smooth', block: 'center' });
}
}

function createBubbles() {
const container = document.getElementById('bubbleContainer');
const colors = ['blue', 'yellow', 'pink', 'green'];
const totalBubbles = 48;
const bubbles = [];

// Create bubbles with random colors
for (let i = 0; i < totalBubbles; i++) {
const randomColor = colors[Math.floor(Math.random() * colors.length)];
const bubble = document.createElement('div');
bubble.className = `bubble ${randomColor}`;
bubble.onclick = () => popBubble(bubble, randomColor);
bubbles.push(bubble);
}

// Shuffle the bubbles array
for (let i = bubbles.length - 1; i > 0; i--) {
const j = Math.floor(Math.random() * (i + 1));
[bubbles[i], bubbles[j]] = [bubbles[j], bubbles[i]];
}

// Append shuffled bubbles to the container
bubbles.forEach(bubble => container.appendChild(bubble));
}

function showAdvice(color) {
const adviceList = advice[color];
const randomAdvice = adviceList[Math.floor(Math.random() * adviceList.length)];

const quoteBox = document.getElementById('quoteBox');
document.getElementById('quoteText').textContent = randomAdvice;
quoteBox.style.display = 'block';

setTimeout(() => {
quoteBox.style.display = 'none';
}, 5000); // Display for 5 seconds
}

function playPopSound() {
    const popSound = new Audio('pop (1).mp3'); // Update the path to your audio file
    popSound.currentTime = 0;
    popSound.play().catch(() => {});
}

function updateStats() {
document.getElementById('popCount').textContent = popCount;
}

function checkAchievements() {
const enthusiasmBadge = document.getElementById('enthusiast');
const thinkerBadge = document.getElementById('thinker');
const grandPopBadge = document.getElementById('grandPop');

if (popCount >= 100) {
if (!enthusiasmBadge.classList.contains('unlocked')) {
    enthusiasmBadge.classList.add('unlocked');
    enthusiasmBadge.textContent = 'Bubble Enthusiast (Achieved!)';
    showNotification("Congrats! You've wasted enough time to become a Bubble Enthusiast.");
}
} else {
enthusiasmBadge.textContent = `Bubble Enthusiast (${popCount}/100)`;
}

if (philosophicalPops >= 50) {
if (!thinkerBadge.classList.contains('unlocked')) {
    thinkerBadge.classList.add('unlocked');
    thinkerBadge.textContent = 'Deep Thinker (Achieved!)';
    showNotification("Wow, you've really thought deeply about popping bubbles. Impressive.");
}
} else {
thinkerBadge.textContent = `Deep Thinker (${philosophicalPops}/50)`;
}

if (popCount >= 1000) {
if (!grandPopBadge.classList.contains('unlocked')) {
    grandPopBadge.classList.add('unlocked');
    grandPopBadge.textContent = 'The Grand Pop (Achieved!)';
    showNotification("You have mastered the art of pointless wisdom. Congratulations on wasting your time.");
}
} else {
grandPopBadge.textContent = `The Grand Pop (${popCount}/1000)`;
}
}

function showNotification(message) {
const notification = document.getElementById('notification');
notification.textContent = message;
notification.style.display = 'block';

setTimeout(() => {
notification.style.display = 'none';
}, 5000);
}


function loadProgress() {
    const savedPopCount = localStorage.getItem('popCount');
    const savedPhilosophicalPops = localStorage.getItem('philosophicalPops');
    const savedDailyPopCount = localStorage.getItem('dailyPopCount');

    if (savedPopCount) {
        popCount = parseInt(savedPopCount, 10);
    }

    if (savedPhilosophicalPops) {
        philosophicalPops = parseInt(savedPhilosophicalPops, 10);
    }

    if (savedDailyPopCount) {
        dailyPopCount = parseInt(savedDailyPopCount, 10);
    }

    updateStats();
    checkAchievements();
}

function saveProgress() {
    localStorage.setItem('popCount', popCount);
    localStorage.setItem('philosophicalPops', philosophicalPops);
    localStorage.setItem('dailyPopCount', dailyPopCount);
}

function resetDailyStatus() {
    dailyPopCount = 0;
    updateStats();
    saveProgress();
}

// Reset daily status at midnight
const now = new Date();
const midnight = new Date(now.getFullYear(), now.getMonth(), now.getDate() + 1, 0, 0, 0);
const timeUntilMidnight = midnight.getTime() - now.getTime();
setTimeout(resetDailyStatus, timeUntilMidnight);

createBubbles();
loadProgress();